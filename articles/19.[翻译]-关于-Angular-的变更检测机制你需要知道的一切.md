# [翻译]-关于-Angular-的变更检测机制你需要知道的一切

*探索底层实现和使用案例*

> 原文链接：[Everything you need to know about change detection in Angular](https://blog.angularindepth.com/everything-you-need-to-know-about-change-detection-in-angular-8006c51d206f)
>
> 译者：[白鼠](https://github.com/baishusama)；校对者：暂无

![CHANGE AHEAD](../assets/19/1.jpeg?raw=true)

由于网上的相关信息并不多，如果你和我一样想全面了解 Angular 的变更检测机制（change detection），将不得不去探索【FIXME:源码/】源头。大部分文章都会提到每个组件都有的负责检查自己的变更检测器（change detector），但它们不会【FIXME:超过/超越/超乎】超出这个、大多数都专注于介绍不可变量（immutables）和变更检测策略（change detection strategy）的使用案例。

而本文将帮助你理解“不可变量*为什么*可以这么用”、“变更检测策略是*怎么*影响检查的”。同时，学过本文后的你将能够独立地提出各种性能优化方案。

本文包含两部分。

第一部分是非常技术性的，包含很多来源的链接。它详细说明了变更检测机制底层是怎样工作的。其内容基于最新的 Angular 4.0.1 版本，这个版本的变更检测机制的底层实现不同于早前的 2.4.1 版本（如果你对此感兴趣，你可以通过【TODO:】[这个 StakeOverflow 回答](https://stackoverflow.com/questions/42643389/why-do-we-need-ngdocheck/42807309#42807309)来了解一些）。

第二部分展示了如何在应用中使用变更检测。这部分内容由于公共的 API 没变，同时适用于早前的 2.4.1 和最新的 4.0.1 版本的 Angular。

## 核心概念之 视图

几乎每个教程都会提到，一个 Angular 应用是一棵组件树。无论如何，Angular 在底层使用了一个低级抽象（low-level abstraction），叫做[视图（view）](https://github.com/angular/angular/blob/6b79ab5abec8b5a4b43d563ce65f032990b3e3bc/packages/core/src/view/types.ts#L301)。视图和组件之间存在着直接关系——视图和组件是一一对应的。一个视图的 [`component` 属性](https://github.com/angular/angular/blob/6b79ab5abec8b5a4b43d563ce65f032990b3e3bc/packages/core/src/view/types.ts#L309)引用了相关的组件类的实例。所有像是属性检查（property checks）和 DOM 更新等操作都是作用在视图上的，因此技术上更确切的表述是“angular 是一棵视图树”
